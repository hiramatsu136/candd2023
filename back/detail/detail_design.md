# 出欠管理システム 詳細設計書

Wordでキッチリしたドキュメントにする必要ある？  
→作業時間がいたずらに増える＆体裁を整えても学習効果は少ない（工数に見合わない）と判断  
→Markdownで押し切りたい

## システム構成

- 構成図要る？（画像埋め込みになるのでできれば避けたい）
- 動作環境・ドメインなどの基本仕様
- 備考（運用面や責任範囲など、何か書くことあれば）

## DB設計

バックエンド側のデータベース設計を以下に示す。

```mermaid
erDiagram
    presence {
        integer id PK "auto-increment ロジック上は使用しない"
        integer number "社員番号"
        string name "社員名"
        string date "年月（yyyy/mm形式、0埋め文字列）"
        string presence "出欠情報（オンライン、欠席、午前帰社、午後帰社）"
    }
```

## シーケンス

バックエンド側の各処理について、シーケンスを以下に示す。  

### サーバ起動時 処理シーケンス
※無い場合は記載不要（件のDB初期設定などが明示的に必要ならここに来るかも）

### 出欠情報一覧取得IF 処理シーケンス

```mermaid
%% サンプルシーケンス、改変して使用してください(%%はコメント行)
sequenceDiagram
    autonumber

    actor ユーザー
    participant 出欠情報一覧表示画面
    participant バックエンド
    participant DB

    ユーザー->>バックエンド: URLにアクセス(GET)
    バックエンド-->>出欠情報一覧表示画面: 画面表示
    出欠情報一覧表示画面->>バックエンド: JavaScript取得(GET)
    バックエンド-->>出欠情報一覧表示画面: スクリプト返却
    Note left of 出欠情報一覧表示画面: スクリプトの管理方式は<br>フロントの設計待ち

    出欠情報一覧表示画面->>バックエンド: 出欠情報一覧取得IF呼び出し(GET)
    Note over バックエンド: 以下にバックエンド側の<br>ロジックを記載
    バックエンド->>バックエンド: 何かの処理
    バックエンド->>DB: DBアクセス
    DB-->>バックエンド: 出欠情報
    バックエンド->>バックエンド: 何かの処理
    バックエンド-->>出欠情報一覧表示画面: レスポンス返却

    出欠情報一覧表示画面->>出欠情報一覧表示画面: 画面に出欠情報を反映
    出欠情報一覧表示画面-->>ユーザー: イベント終了
```

### 出欠情報更新IF 処理シーケンス

```mermaid
%% ここにシーケンスを記述
sequenceDiagram
    autonumber
```
